# SecureFlow 프로젝트 요구사항 분석

## 1. 프로젝트 개요

- **프로젝트명**: SecureFlow
- **목적**: OAuth2 및 JWT 기능을 포함한 로그인 시스템 구축

## 2. 기능 및 사용자 시나리오

### 2.1 Spring Security를 통한 사용자 관리

- Spring Security 기반의 인증 및 인가 시스템 제공
- 사용자 등록, 로그인, 비밀번호 재설정, 계정 비활성화 등 계정 관리 기능 지원
- 사용자 권한(Permission) 기반 접근 제어

### 2.2 OAuth2 인증

- 소셜 로그인(Google, Naver)을 통한 OAuth2 인증 지원
- 모든 사용자는 OAuth2 인증 후 로컬 회원과 동일하게 JWT 발급

### 2.3 JWT를 통한 API 제어

- JWT(Json Web Token)를 활용하여 API 요청에 대한 사용자 인증 및 권한 검증
- 액세스 토큰과 리프레시 토큰 발급 및 관리로 지속적인 인증 유지
- 토큰 만료 및 갱신 메커니즘을 통한 보안 강화
- 민감한 API 엔드포인트에 대한 접근을 JWT 기반으로 세밀하게 제어

## 3. 사용자 보안 시나리오 분석

### 3.1 가입 시나리오

- 사용자가 이메일 인증을 통해 회원 가입
- 가입 후 JWT 발급 및 개인 권한 확인
- OAuth2 인증의 경우 별도의 회원 가입 절차 없이 JWT 발급 후 로그인 처리

### 3.2 HTTPS 적용 및 CORS 처리

- HTTPS를 통한 암호화된 안전한 통신 유지
- CORS 정책을 통한 API 접근 제어

## 4. 기술적 요구사항

### 4.1 Spring Security 관리

- Spring Security를 통한 효율적인 보안 시스템 관리
- Security Filter Chain을 통한 JWT 인증 및 OAuth2 기능 통합 관리
- Anonymous 사용자, 일반 사용자, 관리자에 따른 권한 기반 URL 접근 제어

### 4.2 JWT를 통한 사용자 인증 관리

- JWT 생성 및 검증 매커니즘 구현
- 액세스 토큰은 짧은 유효기간을 가지며 30초 간격으로 자동 갱신
- 사용자별 리프레시 토큰을 데이터베이스로 관리
- 로그아웃 시 DB와 스토리지에 저장된 토큰 정보 삭제

### 4.3 OAuth2를 통한 소셜 로그인 관리

- OAuth2 인증에 필요한 모든 정보를 yml 파일의 환경 변수로 관리
- 모든 OAuth2 인증 및 토큰 처리는 백엔드에서 전담

